<%- include ("../partials/header") %>
<h1>View Test</h1>

<div class="row animated fadeIn fast">
    <% if(files) { %>
    <% files.forEach(function(file){ %>
    <div class="col-md-4">
        <div class="card border-dark mb-3" style="border-radius: 10px; box-shadow: 0px 0px 10px 0px #000;">
            <div class="card-header"><em><%= file.metadata.title %></em></div>
            <div class="card-body">
            <div class="card-title"><strong>Uploaded on: </strong><%= file.uploadDate.toDateString() %></div>
            <% if(file.metadata.description){ %>
                <p class="card-text" data-toggle="tooltip" data-placement="right" title="<%= file.metadata.description %>" ><strong>Description: </strong><%= file.metadata.description.substring(0, 25) %>...</p>
            <% } else { %>
                <p class="card-text"><strong>Description: </strong>null</p>
            <% } %>
            <p class="card-text"><strong>By: </strong><%= file.metadata.by %></p>
            <% if(file.contentType === 'image/jpeg' || file.contentType === 'image/png') { %>
                <img src="/files/<%= file.filename %>" class="card-img-top" alt="">
            <% } else { %>
                <div class="mb-3">
                    <a href="/files/<%= file.filename %>" target="_blank">Click Here for Test File</a>
                </div>
            <% } %>
            <a href="/students/viewtest/<%= file._id %>/answertest" class="btn btn-block btn-outline-primary">Answer This Test</a>
            </div>
          </div>
    </div>
    <% }) %>
    <% } else { %>
    <h1 class="display-5">No Files to Show..</h1>
    <% } %> 
</div>
<a href="/students"><i class="fas fa-angle-left"></i>&nbsp;Go Back</a>


<%- include ("../partials/footer") %> 